### 2.1 `require` ve `module.exports` KullanÄ±mÄ±

Node.js'te her `.js` dosyasÄ± baÅŸlÄ± baÅŸÄ±na bir **modÃ¼ldÃ¼r**. Bu modÃ¼ller sayesinde kodlarÄ± parÃ§alara ayÄ±rarak daha dÃ¼zenli, okunabilir ve yeniden kullanÄ±labilir hale getirebiliriz.

**`module.exports`**

Bir dosyada tanÄ±mlanan veri, fonksiyon veya sÄ±nÄ±fÄ± **baÅŸka dosyalarda kullanmak Ã¼zere dÄ±ÅŸa aktarmak** iÃ§in kullanÄ±lÄ±r.

**`require()`**

BaÅŸka bir dosyada dÄ±ÅŸa aktarÄ±lmÄ±ÅŸ olan iÃ§eriÄŸi **iÃ§eri almak** (import etmek) iÃ§in kullanÄ±lÄ±r.

**ğŸ§  Ã–rnek:**

```jsx
//selam.js

function selamVer(isim) {
  console.log(`Merhaba, ${isim}`);
}

module.exports = selamVer; // Fonksiyonu dÄ±ÅŸa aktarÄ±yoruz
```

```jsx
//app.js

const selam = require('./selam'); // selam.js modÃ¼lÃ¼nÃ¼ iÃ§eri alÄ±yoruz
selam('AtÄ±lay');
```

**Ã‡Ä±ktÄ±:** `Merhaba, AtÄ±lay`

**Ã–zet:**

- `module.exports`: DÄ±ÅŸa aktarma iÅŸlemi yapar.
- `require()`: DÄ±ÅŸarÄ±dan modÃ¼l alÄ±r.
- Her `.js` dosyasÄ± bir modÃ¼ldÃ¼r.

---

### **2.2 CommonJS MantÄ±ÄŸÄ±**

Node.js, modÃ¼l sistemi olarak **CommonJS** yapÄ±sÄ±nÄ± kullanÄ±r. Bu sistem sayesinde farklÄ± dosyalar (modÃ¼ller) arasÄ±nda veri/fonksiyon paylaÅŸÄ±mÄ± yapÄ±labilir.

**CommonJS Nedir?**

CommonJS, JavaScript dosyalarÄ±nÄ±n birbirine **baÄŸÄ±mlÄ± hale gelmesini ve modÃ¼ler kod yazÄ±lmasÄ±nÄ±** saÄŸlayan bir standarttÄ±r. ModÃ¼lerden kastÄ±mÄ±z

Node.js, CommonJS yapÄ±sÄ±nÄ± ÅŸu ÅŸekilde uygular:

- Her dosya bir modÃ¼ldÃ¼r.
- `module.exports` ile dÄ±ÅŸa aktarÄ±m yapÄ±lÄ±r.
- `require()` ile baÅŸka modÃ¼l iÃ§eri alÄ±nÄ±r.

**Ã–rnek:**

```jsx
//car.js

const marka = 'Toyota';
const model = 'Corolla';

module.exports = { marka, model };
```

```jsx
//app.js
const car = require('./car');

console.log(car.marka); // Toyota
console.log(car.model); // Corolla
```

**Ã–zet:**

- CommonJS â†’ `require` / `module.exports` tabanlÄ± modÃ¼l sistemi.
- ES6 modÃ¼llerine gÃ¶re farkÄ±: `import`/`export` yerine `require`/`module.exports` kullanÄ±lÄ±r.
- Node.jsâ€™in varsayÄ±lan modÃ¼l sistemi budur.

---

### **2.3 `process`, `__dirname`, `__filename` Gibi Global DeÄŸiÅŸkenler**

Node.js bazÄ± Ã¶zel global deÄŸiÅŸkenler sunar. Bunlar, herhangi bir dosyada **require etmeden doÄŸrudan kullanÄ±labilir**.

**`process`**

- Node.js sÃ¼reci hakkÄ±nda bilgi verir.
- Ortam deÄŸiÅŸkenleri, Ã§alÄ±ÅŸma dizini, Ã§Ä±kÄ±ÅŸ kodlarÄ± gibi iÅŸlemler iÃ§in kullanÄ±lÄ±r.

**Ã–rnek:**

```jsx
console.log(process.env.NODE_ENV); // Ortam tipi (dev, prod vs.)
//Ã–rnek Ã‡Ä±ktÄ±: development

//UygulamanÄ±n hangi ortamda Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± sÃ¶ylÃ¼yor
// - development â†’ geliÅŸtirme
// - production â†’ canlÄ± ortam
// - test â†’ test

console.log(process.argv); // Komut satÄ±rÄ± argÃ¼manlarÄ±
```

**`__dirname`**

- GeÃ§erli dosyanÄ±n bulunduÄŸu **klasÃ¶rÃ¼n tam yolunu** verir.

**Ã–rnek:**

```jsx
console.log(__dirname);
// Ã–rn: C:\Users\AtÄ±lay\projeler\cloki
```

Ã–rneÄŸin serviceController.js dosyasÄ±na koyduk bu kodu diyelim:

![image.png](attachment:b5490cd9-b9b9-4121-a16b-a8db7a2d6f40:image.png)

terminalde bunu loglar:

C:\Users\Pc\Desktop\clokiapp\cloki-app8 - Kopya\cloki-back\controllers

**`__filename`**

- GeÃ§erli dosyanÄ±n **tam yolunu** verir.

**Ã–rnek:**

```jsx
console.log(__filename);
// Ã–rn: C:\Users\AtÄ±lay\projeler\cloki\app.js
```

serviceController.js dosyasÄ±na bu kodu koyduk diyelim. O zaman aÅŸaÄŸÄ±daki bu log loglanÄ±r:

C:\Users\Pc\Desktop\clokiapp\cloki-app8 - Kopya\cloki-back\controllers\serviceController.js

---

**Ã–zet:**

- `process`: Node sÃ¼reciyle ilgili bilgi ve kontrol saÄŸlar.
- `__dirname`: DosyanÄ±n bulunduÄŸu klasÃ¶rÃ¼n tam yolu.
- `__filename`: DosyanÄ±n tam yolu.

**NOT:**

`dir` = **directory (klasÃ¶r)** demektir.

---

### **2.4 `setTimeout`, `setInterval`, `clearInterval` KullanÄ±mÄ±**

Node.js, zamanlama iÅŸlemleri iÃ§in JavaScriptâ€™in tarayÄ±cÄ±dan aÅŸina olunan zamanlayÄ±cÄ± fonksiyonlarÄ±nÄ± destekler. Bu fonksiyonlar **Node.js ile birlikte gelir**.

**`setTimeout()`**

Belirli bir sÃ¼re sonra **bir kez** Ã§alÄ±ÅŸacak kod bloÄŸunu zamanlar.

**Ã–rnek:**

```jsx
setTimeout(() => {
  console.log('2 saniye sonra Ã§alÄ±ÅŸtÄ±');
}, 2000); // 2000 ms = 2 saniye
```

**`setInterval()`**

Belirli aralÄ±klarla **tekrar tekrar** Ã§alÄ±ÅŸacak kod bloÄŸunu zamanlar.

**Ã–rnek:**

```jsx
const intervalId = setInterval(() => {
  console.log('Her 3 saniyede bir Ã§alÄ±ÅŸÄ±r');
}, 3000);
```

**`clearInterval()`**

`setInterval()` ile baÅŸlatÄ±lan iÅŸlemi **durdurur**.

**Ã–rnek:**

```jsx
let sayac = 0;
const id = setInterval(() => {
  sayac++;
  console.log(`SayaÃ§: ${sayac}`);
  if (sayac === 5) {
    clearInterval(id); // 5'e ulaÅŸÄ±nca dÃ¶ngÃ¼yÃ¼ durdur
  }
}, 1000);
```

---

**Ã–zet:**

- `setTimeout(fn, ms)`: Belirli sÃ¼re sonra **tek seferlik** Ã§alÄ±ÅŸtÄ±rÄ±r.
- `setInterval(fn, ms)`: Belirli aralÄ±klarla **tekrar tekrar** Ã§alÄ±ÅŸtÄ±rÄ±r.
- `clearInterval(id)`: DÃ¶ngÃ¼yÃ¼ durdurur.

---